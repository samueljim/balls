name = "balls-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# API + WebSockets at https://api.balls.bne.sh (requires bne.sh zone in your CF account)
[[routes]]
pattern = "api.balls.bne.sh"
custom_domain = true

[durable_objects]
bindings = [
  { name = "LOBBY", class_name = "Lobby" },
  { name = "GAME", class_name = "Game" },
  { name = "REGISTRY", class_name = "Registry" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["Lobby", "Game", "Registry"]
